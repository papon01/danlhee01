<!DOCTYPE html>
<html>
<head> 
    <title>DANLHEE WEB SITE</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rajdhani">

        <!-- Link to Bootstrap CSS file -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

        <!-- Link to Bootstrap JavaScript file (jQuery and Popper.js are also required) -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

        <!-- Link to Google OAuth2.0 API file -->
    <script src="https://apis.google.com/js/api.js"></script>

        <!-- Link to Bootstrap 5 CSS file -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">

        <!-- Optional link to Bootstrap 5 JavaScript file -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>



<style>
      
    #container {
        position: relative;
    }

    #background {
        position: absolute;
        top: 0%;
        left: 0%;
        bottom: 0%;
        right: 0%;
        z-index: -1;
        overflow: auto;
        height: 100%;
        width: 100%;
        font-size: 50%;
        background-position: 0 0, center;
        background-repeat: no-repeat;
        background-position: 0px 0px;
        background-attachment: fixed;
        background-color: #020202;
        -webkit-background-size: calc(100vw) calc(100vh);
        -moz-background-size: calc(100vw) calc(100vh);
        -o-background-size: calc(100vw) calc(100vh);
        background-size: calc(100vw) calc(100vh);

    }

    
     
    button {
        
        padding: 5px 250px;
        font-size: 15px;      
    }


    h1 {
        font-weight: bold;
        font-family: "Rajdhani", sans-serif;
        color: rgb(29, 27, 27);
        border-left: 1rem solid midnightblue;
        background-color: rgba(243, 235, 235, 0.596);
        padding: 10px;
        font-size: 25px;

    }
    
    h3 {
        color: honeydew;
        text-indent: 10px;

    }

    h5 {
        color: honeydew;
    }
    
    body {
        overflow: scroll;      
    }

</style>


    
    
</head>
<body>
 
        <iframe id="background" src="bg.html"></iframe>  

    <div class="container text-center">
    
        
        <h1 id='headM' name='headM'>   WELCOME TO DANLHEE WEBSITE  </h1>
        <h5><div><alert id='congradmassage'></alert></div></h5>
        <button id='dhclick' onclick='display()'>Login</button>
        
        <h3><label for='dhcontent' id='dhcontentlabel'></label></h3>
        <div id='dhcontent'></div>
        <h3><label for='profilepic' id='profilepiclabel' ></label></h3>
        <div id='profilepic' width=auto height="315" ></div>
        <div id="dhsong"></div>
        <script src="app.js"></script>
    
    </div>
<footer>
    <div class="text-center"><h5>DANLHEE V.2.5</h5></div>
</footer>    

    <script>
        

    // days_between function var


function days_between(date1, date2) {

    

var date1 = new Date()
var date2 = new Date(2020,07,27)

// The number of milliseconds in one day
var ONE_DAY = 1000 * 60 * 60 * 24

// Convert both dates to milliseconds
var date1_ms = date1.getTime()
var date2_ms = date2.getTime()

// Calculate the difference in milliseconds
var difference_ms = Math.abs(date1_ms - date2_ms)

// Convert back to days and return
//return Math.round(difference_ms/ONE_DAY)


var t = difference_ms
var //cy = 365 * 24 * 60 * 60 * 1000,
    //cm = 30 * 24 * 60 * 60 * 1000,
    cd = 24 * 60 * 60 * 1000,
    ch = 60 * 60 * 1000,
    y = Math.floor((t / cd) / 365),
    mo = Math.floor(
        (
            (t / cd) - Math.floor
                (
                (t / cd) / 365
                )

            * 365)
         / 30 ),
    dgu = Math.floor(t / cd) - (Math.floor((y) * 365) //year in day 
        + Math.floor((mo)* 30 ))  //month in day      
    d = Math.floor(t / cd),
    h = Math.floor( (t - d * cd) / ch),
    m = Math.round( (t - d * cd - h * ch) / 60000),
    pad = function(n){ return n < 10 ? '0' + n : n; };
if( m === 60 ){
h++;
m = 0;
}
if( h === 24 ){
d++;
h = 0;
}

var waitingtime = [ "   " + y + " Years ", mo + " Months ", dgu + " Day ", pad(h) + " Hours ", pad(m) + " Minutes "].join(' : ');
console.log(waitingtime)
return waitingtime;
  
}

setInterval(WT, 1000);

function WT() {
  // Set the date we're counting down to
  var countDownDate = new Date("2020-07-26 22:53:35").getTime();

  // Get today's date and time
  var now = new Date().getTime();
    
  // Find the distance between now and the count down date
  var distance = Math.abs(now - countDownDate);
    
  // Time calculations for days, hours, minutes and seconds

  var years = Math.floor(distance / (1000 * 60 * 60 * 24 * 365));
  var months = Math.floor(((Math.floor(distance / (1000 * 60 * 60 * 24))) - //days in day -
               (Math.floor(distance / (1000 * 60 * 60 * 24 * 365))* 365))  //years in day = months in day
                / (30.42))                                                   //months in month 
  
  var days =  (Math.floor(distance / (1000 * 60 * 60 * 24))) -
  
            ((
                (Math.floor((Math.floor(((Math.floor(distance / (1000 * 60 * 60 * 24))) - 
               (Math.floor(distance / (1000 * 60 * 60 * 24 * 365))* 365))  
                / (30.42))) * 30.42) )                                                 
            ) 
             
            +

            ((Math.floor(distance / (1000 * 60 * 60 * 24 * 365)))* 365 ) )  
    
  var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  var seconds = Math.floor((distance % (1000 * 60)) / 1000);
    

  /*var z =[ "   " + (Math.floor(distance / (1000 * 60 * 60 * 24 * 365))) + " Years ",(Math.floor(((Math.floor(distance / (1000 * 60 * 60 * 24))) - //days in day -
  (Math.floor(distance / (1000 * 60 * 60 * 24 * 365))* 365))/ (30.42))) + " Months ",((Math.floor(distance / (1000 * 60 * 60 * 24))) -
  
   ((
       (Math.floor((Math.floor(((Math.floor(distance / (1000 * 60 * 60 * 24))) - 
      (Math.floor(distance / (1000 * 60 * 60 * 24 * 365))* 365))  
       / (30.42))) * 30.42) )                                                 
   ) 
    
   +

   ((Math.floor(distance / (1000 * 60 * 60 * 24 * 365)))* 365 ) )) + " Days",  (Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))) + " Hours " , (Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60))) + " Minutes " , (Math.floor((distance % (1000 * 60)) / 1000)) + " Seconds "].join(' | ');
*/

var z = [" "+ years + "Years"+" "+ months + "Months"+" "+ days + "days"+" "+ hours + "hours"+" "+ minutes + "minutes"+" "+ seconds + "seconds"+" "].join(' | ');
   console.log(z)
   document.getElementById("headM").innerHTML = z
return z
 
}


// Google OAuth2.0 authorization
gapi.load("auth2", function() {
    gapi.auth2.init({
        client_id: "837943993291-o300pkv2ao8b5d2a8emoaji054euqcpv.apps.googleusercontent.com",
        scope: "profile email https://www.googleapis.com/auth/youtube.force-ssl https://www.googleapis.com/auth/youtubepartner"
    });
});

// Function to display user's profile information
function display() {
    gapi.auth2.getAuthInstance().signIn().then(function() {
        var profile = gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile();
        document.getElementById("dhcontentlabel").innerHTML = "User ID: " + profile.getId();
        document.getElementById("dhcontent").innerHTML = "Full Name: " + profile.getName() + "<br>" + "Email: " + profile.getEmail();
        document.getElementById("profilepiclabel").innerHTML = "Profile Picture";
        document.getElementById("profilepic").innerHTML = "<img src='" + profile.getImageUrl() + "'>";
        document.getElementById("congradmassage").innerHTML = "Login Successful!";
        document.getElementById("headM").innerHTML = z;
    }).catch(function(error) {
        console.error(error);
        document.getElementById("congradmassage").innerHTML = "Login failed: " + error;
    });
}




// Function to display the first 5 videos from a user's YouTube channel
function showVideos() {
    gapi.client.init({
        'apiKey': 'AIzaSyBDEXKsKG1mjccq56dkXYGJwS5EwgosANQ',
        'discoveryDocs': ['https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest'],
    }).then(function() {
        return gapi.client.youtube.channels.list({
            "part": "snippet,contentDetails,statistics",
            "mine": true
        });
    }).then(function(response) {
        console.log(response);
        var channel = response.result.items[0];
        console.log(channel);
        var channelId = channel.id;
        console.log(channelId);

        gapi.client.youtube.search.list({
            "part": "snippet",
            "channelId": channelId,
            "maxResults": 5,
            "type": "video"
        }).then(function(response) {
            console.log(response);
            var videos = response.result.items;
            var output = "";
            for (var i in videos) {
                var title = videos[i].snippet.title;
                var videoId = videos[i].id.videoId;
                output += "<li><a href='https://www.youtube.com/watch?v=" + videoId + "'>" + title + "</a></li>";
            }
            document.getElementById("dhsong").innerHTML = "<ol>" + output + "</ol>";
        });
    });
}

const clientId = '837943993291-o300pkv2ao8b5d2a8emoaji054euqcpv.apps.googleusercontent.com';

let isLoggedIn = false;

const button = document.getElementById(display());
                

button.addEventListener("click", function() {
  if (isLoggedIn) {
    logout();
  } else {
    gapi.load('auth2', function() {
      gapi.auth2.init({
        client_id: clientId,
        scope: 'profile email'
      }).then(function() {
        gapi.auth2.getAuthInstance().signIn().then(function(googleUser) {
          isLoggedIn = true;
          button.innerHTML = "Logout";
        });
      });
    });
  }
});

function logout() {
  // Perform the logout logic
  gapi.auth2.getAuthInstance().signOut().then(function() {
    isLoggedIn = false;
    button.innerHTML = "Login";
  });
}



    </script>
</body>
</html>